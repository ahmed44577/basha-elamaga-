<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>… جاري التحميل …</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      background: #000;
      color: #00ff00;
      font-family: 'Courier New', Courier, monospace;
      font-size: 1.8rem;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    #container {
      max-width: 90%;
      white-space: pre-wrap;
      word-wrap: break-word;
    }
    #message {
      opacity: 0;
      transition: opacity 1s;
    }
    .blink {
      animation: blink 1s infinite;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }
    .red { color: #ff0044; }
    .yellow { color: #ffff00; }
  </style>
</head>
<body>

  <div id="container">
    <div id="message"></div>
    <p class="blink" style="margin-top: 2rem; font-size: 1.2rem;">جاري الاتصال...</p>
  </div>

  <audio id="beep" preload="auto">
    <source src="https://assets.mixkit.co/active_storage/sfx/2570/2570-preview.mp3" type="audio/mpeg">
  </audio>

  <script>
    // محاولة الدخول في وضع ملء الشاشة
    function goFullscreen() {
      const elem = document.documentElement;
      if (elem.requestFullscreen) {
        elem.requestFullscreen().catch(() => {});
      } else if (elem.webkitRequestFullscreen) {
        elem.webkitRequestFullscreen();
      } else if (elem.msRequestFullscreen) {
        elem.msRequestFullscreen();
      }
    }

    // اهتزاز الجهاز إذا كان مدعومًا
    function vibrate() {
      if ("vibrate" in navigator) {
        navigator.vibrate([100, 50, 100]);
      }
    }

    const fullText = 
`مرحبا يا ${getDeviceHint()}،

لقد تم الوصول إلى جهازك.

بياناتك ممكن تكون معايا دلوقتي...

لو عايزها رجّعها، كلمني على:
01144577670

… لا تحاول إغلاق الصفحة …`;

    let i = 0;
    const element = document.getElementById("message");
    const beep = document.getElementById("beep");

    // تأخير بسيط قبل البداية
    setTimeout(() => {
      goFullscreen();
      element.style.opacity = "1";
      typeWriter();
    }, 1500);

    function typeWriter() {
      if (i < fullText.length) {
        let char = fullText.charAt(i);
        element.innerHTML += char;

        // تغيير لون عشوائي أحيانًا
        if (Math.random() < 0.15) {
          const colors = ["red", "yellow", "#00ff00", "#00ffff"];
          element.lastChild.className = colors[Math.floor(Math.random() * colors.length)];
        }

        // صوت beep خفيف مع كل حرف (مش كل مرة عشان ما يبقاش مزعج جدًا)
        if (Math.random() < 0.4) {
          beep.currentTime = 0;
          beep.play().catch(() => {}); // تجاهل أخطاء التشغيل
        }

        // اهتزاز خفيف كل فترة
        if (i % 12 === 0) vibrate();

        i++;
        // سرعة كتابة متفاوتة
        const delay = Math.random() < 0.2 ? 180 : 60;
        setTimeout(typeWriter, delay);
      } else {
        // بعد الانتهاء: جعل النص يومض
        element.classList.add("blink");
      }
    }

    // محاولة تخمين نوع الجهاز بشكل بسيط
    function getDeviceHint() {
      const ua = navigator.userAgent.toLowerCase();
      if (/android/.test(ua)) return "صاحب الأندرويد";
      if (/iphone|ipad|ipod/.test(ua)) return "صاحب الآيفون";
      if (/windows/.test(ua)) return "صاحب الويندوز";
      if (/mac/.test(ua)) return "صاحب الماك";
      return "زائر";
    }

    // إعادة المحاولة للدخول fullscreen عند التفاعل الأول
    document.addEventListener("click", goFullscreen, { once: true });
  </script>
</body>
</html>
